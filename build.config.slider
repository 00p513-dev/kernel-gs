. ${ROOT_DIR}/private/gs-google/build.config.common
. ${ROOT_DIR}/private/gs-google/build.config.aarch64

DEFCONFIG=slider_gki_defconfig
PRE_DEFCONFIG_CMDS="KCONFIG_CONFIG=${ROOT_DIR}/private/gs-google/arch/arm64/configs/${DEFCONFIG} ${ROOT_DIR}/private/gs-google/scripts/kconfig/merge_config.sh -m -r ${ROOT_DIR}/private/gs-google/arch/arm64/configs/gki_defconfig ${ROOT_DIR}/private/gs-google/arch/arm64/configs/slider_gki.fragment"
POST_DEFCONFIG_CMDS="rm ${ROOT_DIR}/private/gs-google/arch/arm64/configs/${DEFCONFIG}"

LIBUFDT_PREBUILTS_BIN=prebuilts-master/misc/linux-x86/libufdt
DTC_OVERLAY_TEST_EXT=${ROOT_DIR}/prebuilts/kernel-build-tools/linux-x86/bin/ufdt_apply_overlay

KERNEL_BINARY=Image.lz4

MAKE_GOALS="
${KERNEL_BINARY}
modules
google/gs101.dtb
google/dtbo.img
"

FILES="
.config
vmlinux
System.map
arch/arm64/boot/Image.lz4
arch/arm64/boot/dts/google/gs101.dtb
arch/arm64/boot/dts/google/dtbo.img
"

ABI_DEFINITION=android/abi_gki_aarch64_common.xml
KMI_ENFORCED=1

BUILD_INITRAMFS=1
GKI_RAMDISK_PREBUILT_BINARY=${ROOT_DIR}/prebuilts/boot-artifacts/ramdisks/ramdisk-slider.img
KERNEL_VENDOR_CMDLINE="androidboot.selinux=permissive androidboot.boot_devices=14700000.ufs buildvariant=userdebug"
VENDOR_FSTAB=${ROOT_DIR}/prebuilts/boot-artifacts/fstabs/fstab.gs101
